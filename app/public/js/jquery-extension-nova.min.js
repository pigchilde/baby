!function(e){"use strict";function n(e,n){return n={exports:{}},e(n,n.exports),n.exports}function t(e,n,t){if(arguments.length>1){if(t=t||{},"number"==typeof t.expires){var r=t.expires,o=t.expires=new Date;o.setMilliseconds(o.getMilliseconds()+864e5*r)}return document.cookie=[e,"=",encodeURIComponent(n),t.expires?"; expires="+t.expires.toUTCString():"",t.path?"; path="+t.path:"",t.domain?"; domain="+t.domain:"",t.secure?"; secure":""].join("")}for(var a=document.cookie?document.cookie.split(";"):[],i=void 0,f=a.length,c=0;c<f;c++){var u=a[c].split("="),s=decodeURIComponent(u.shift()).replace(/^\s*|\s*$/g,"");if(e==s){i=decodeURIComponent(String(u.join("")));break}}return i}function r(e){if(e){var n=new Date(e);return isNaN(n)?o(e):n}}function o(e){var n=void 0,t=void 0,r=/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*)?)([zZ]|([+\-])(\d\d):?(\d\d))?$/,o=r.exec(e)||[];if(o[1]){n=o[1].split(/\D/);for(var a=0,i=n.length;a<i;a++)n[a]=parseInt(n[a],10)||0;return n[1]-=1,n=new Date(Date.UTC.apply(Date,n)),n.getDate()?(o[5]&&(t=60*parseInt(o[5],10),o[6]&&(t+=parseInt(o[6],10)),"+"==o[4]&&(t*=-1),t&&n.setUTCMinutes(n.getUTCMinutes()+t)),n):NaN}return NaN}function a(e){if("string"==typeof e){var n=/^(?:(\w+:)\/\/)?(?:(\w+):?(\w+)?@)?([^:\/\?#]+)(?::(\d+))?([^\?#]+)?(?:\?([^#]+))?(?:#(\w+))?/,t=e.match(n);return t?(t[6]=t[6]||"",{protocol:t[1],host:t[5]?t[4]+":"+t[5]:t[4],port:t[5],path:t[7]?t[6]+"?"+t[7]:t[6],pathname:t[6],qs:t[7]}):{protocol:location.protocol,host:location.host,port:location.port,path:e,pathname:e}}}function i(){return O?_.cookie(O):""}function f(){var e=i();if(e){var n=void 0;try{n=JSON.parse(S.decode(e))}catch(e){}if(n){var t=+_.parseDate(se),r=_.cookie(le);r&&void 0!==n.diff||(n.diff=s(t),_.cookie(le,1,{path:x}),n.server_time=t,_.cookie(O,S.encode(JSON.stringify(n)),{expires:_.parseDate(n.cookie_expires_at),path:x,domain:j}))}return n}}function c(e,n){var t=n?n-e:e,r="",o=void 0,a=pe.length-1;for(o=0;o<t;o++)r+=pe[Math.round(Math.random()*a)];return r}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return+new Date+e+":"+c(8)}function s(e){var n=new Date;return e=_.parseDate(e),e-n}function l(e){var n=s(e);return!!(n>0&&n<=F)}function p(e,n,t,r){return[r,e,n,t,""].join("\n")}function d(e,n,t,r,o){var a=p(e,n,t,r),i=new E("SHA-256","TEXT");return i.setHMACKey(o.mac_key,"TEXT"),i.update(a),i.getHMAC("B64")}function h(e,n,t){var r=void 0,o=f();if(o){l(o.expires_at)&&v(o);var a=u(o.diff);r=['MAC id="'+o.access_token+'"','nonce="'+a+'"','mac="'+d(e,n,t,a,o)+'"'].join(",")}return r}function w(e,n){for(var t=0,r=n.length;t<r;t++){var o=n[t],a=e[o];a&&delete e[o]}return e}function y(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["auth"],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"{",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"}",a=_.path(e);if(!a.qs)return e;a.pathname=a.pathname||"/";var i=w(ue.parse(a.qs),n),f=ue.stringify(i),c=(f?a.pathname+"?"+f:a.pathname,h(t,"/",a.host));if(!c)return e;c=encodeURIComponent(c);for(var u=0,s=n.length;u<s;u++){var l=n[u],p=new RegExp(r+"s*"+l+"s*"+o,"gi");a.qs=a.qs.replace(p,c)}return a.protocol+"//"+a.host+a.pathname+"?"+a.qs}function b(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:["auth"],arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET"),t=_.path(e),r=h(n,e,t.host);return r}function v(e){e.expires_at=+_.parseDate(e.expires_at)+L-s(e.expires_at),_.cookie(O,S.encode(JSON.stringify(e)),{expires:_.parseDate(e.cookie_expires_at),path:x,domain:j});var n=T+"/tokens/"+e.refresh_token+"/actions/refresh?persist=1";"http:"!=location.protocol||D||(n=R+"/ucsdk/proxy/refresh");var t=$.ajax({url:n,type:"POST",dataType:"json",bodyProxy:!1,contentType:"application/json",data:JSON.stringify({refresh_token:e.refresh_token})});t.then(function(n){n.cookie_expires_at=e.cookie_expires_at,n.diff=s(n.server_time),e=n},function(){var n=+new Date+s(e.expires_at)-L;e.expires_at=n}).always(function(){_.cookie(O,S.encode(JSON.stringify(e)),{expires:_.parseDate(e.cookie_expires_at),path:x,domain:j})})}function m(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",t=_.path(e);n=n.toUpperCase();var r=h(n,t.path,t.host);return r?S.encode(r):r}var g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S=n(function(e,n){!function(t){var r="object"==("undefined"==typeof n?"undefined":A(n))&&n,o="object"==("undefined"==typeof e?"undefined":A(e))&&e&&e.exports==r&&e,a="object"==A(g)&&g;a.global!==a&&a.window!==a||(t=a);var i=function(e){this.message=e};i.prototype=new Error,i.prototype.name="InvalidCharacterError";var f=function(e){throw new i(e)},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=/[\t\n\f\r ]/g,s=function(e){e=String(e).replace(u,"");var n=e.length;n%4==0&&(e=e.replace(/==?$/,""),n=e.length),(n%4==1||/[^+a-zA-Z0-9\/]/.test(e))&&f("Invalid character: the string to be decoded is not correctly encoded.");for(var t,r,o=0,a="",i=-1;++i<n;)r=c.indexOf(e.charAt(i)),t=o%4?64*t+r:r,o++%4&&(a+=String.fromCharCode(255&t>>(-2*o&6)));return a},l=function(e){e=String(e),/[^\0-\xFF]/.test(e)&&f("The string to be encoded contains characters outside of the Latin1 range.");for(var n,t,r,o,a=e.length%3,i="",u=-1,s=e.length-a;++u<s;)n=e.charCodeAt(u)<<16,t=e.charCodeAt(++u)<<8,r=e.charCodeAt(++u),o=n+t+r,i+=c.charAt(o>>18&63)+c.charAt(o>>12&63)+c.charAt(o>>6&63)+c.charAt(63&o);return 2==a?(n=e.charCodeAt(u)<<8,t=e.charCodeAt(++u),o=n+t,i+=c.charAt(o>>10)+c.charAt(o>>4&63)+c.charAt(o<<2&63)+"="):1==a&&(o=e.charCodeAt(u),i+=c.charAt(o>>2)+c.charAt(o<<4&63)+"=="),i},p={encode:l,decode:s,version:"0.1.0"};if("function"==typeof define&&"object"==A(define.amd)&&define.amd)define(function(){return p});else if(r&&!r.nodeType)if(o)o.exports=p;else for(var d in p)p.hasOwnProperty(d)&&(r[d]=p[d]);else t.base64=p}(g)}),E=n(function(e,n){!function(t){function r(e,n,t){var r,o,a,i,f,c,w,y,b,v=0,m=[],g=0,A=!1,S=[],E=[],H=!1,k=!1;if(t=t||{},r=t.encoding||"UTF8",b=t.numRounds||1,a=h(n,r),b!==parseInt(b,10)||1>b)throw Error("numRounds must a integer >= 1");if("SHA-1"===e)f=512,c=I,w=M,i=160,y=function(e){return e.slice()};else if(0===e.lastIndexOf("SHA-",0))if(c=function(n,t){return X(n,t,e)},w=function(n,t,r,o){var a,i;if("SHA-224"===e||"SHA-256"===e)a=(t+65>>>9<<4)+15,i=16;else{if("SHA-384"!==e&&"SHA-512"!==e)throw Error("Unexpected error in SHA-2 implementation");a=(t+129>>>10<<5)+31,i=32}for(;n.length<=a;)n.push(0);for(n[t>>>5]|=128<<24-t%32,t+=r,n[a]=4294967295&t,n[a-1]=t/4294967296|0,r=n.length,t=0;t<r;t+=i)o=X(n.slice(t,t+i),o,e);if("SHA-224"===e)n=[o[0],o[1],o[2],o[3],o[4],o[5],o[6]];else if("SHA-256"===e)n=o;else if("SHA-384"===e)n=[o[0].a,o[0].b,o[1].a,o[1].b,o[2].a,o[2].b,o[3].a,o[3].b,o[4].a,o[4].b,o[5].a,o[5].b];else{if("SHA-512"!==e)throw Error("Unexpected error in SHA-2 implementation");n=[o[0].a,o[0].b,o[1].a,o[1].b,o[2].a,o[2].b,o[3].a,o[3].b,o[4].a,o[4].b,o[5].a,o[5].b,o[6].a,o[6].b,o[7].a,o[7].b]}return n},y=function(e){return e.slice()},"SHA-224"===e)f=512,i=224;else if("SHA-256"===e)f=512,i=256;else if("SHA-384"===e)f=1024,i=384;else{if("SHA-512"!==e)throw Error("Chosen SHA variant is not supported");f=1024,i=512}else{if(0!==e.lastIndexOf("SHA3-",0)&&0!==e.lastIndexOf("SHAKE",0))throw Error("Chosen SHA variant is not supported");var O=6;if(c=Y,y=function(e){var n,t=[];for(n=0;5>n;n+=1)t[n]=e[n].slice();return t},"SHA3-224"===e)f=1152,i=224;else if("SHA3-256"===e)f=1088,i=256;else if("SHA3-384"===e)f=832,i=384;else if("SHA3-512"===e)f=576,i=512;else if("SHAKE128"===e)f=1344,i=-1,O=31,k=!0;else{if("SHAKE256"!==e)throw Error("Chosen SHA variant is not supported");f=1088,i=-1,O=31,k=!0}w=function(e,n,t,r,o){t=f;var a,i=O,c=[],u=t>>>5,s=0,l=n>>>5;for(a=0;a<l&&n>=t;a+=u)r=Y(e.slice(a,a+u),r),n-=t;for(e=e.slice(a),n%=t;e.length<u;)e.push(0);for(a=n>>>3,e[a>>2]^=i<<24-a%4*8,e[u-1]^=128,r=Y(e,r);32*c.length<o&&(e=r[s%5][s/5|0],c.push((255&e.b)<<24|(65280&e.b)<<8|(16711680&e.b)>>8|e.b>>>24),!(32*c.length>=o));)c.push((255&e.a)<<24|(65280&e.a)<<8|(16711680&e.a)>>8|e.a>>>24),s+=1,0===64*s%t&&Y(null,r);return c}}o=P(e),this.setHMACKey=function(n,t,a){var u;if(!0===A)throw Error("HMAC key already set");if(!0===H)throw Error("Cannot set HMAC key after calling update");if(!0===k)throw Error("SHAKE is not supported for HMAC");if(r=(a||{}).encoding||"UTF8",t=h(t,r)(n),n=t.binLen,t=t.value,u=f>>>3,a=u/4-1,u<n/8){for(t=w(t,n,0,P(e),i);t.length<=a;)t.push(0);t[a]&=4294967040}else if(u>n/8){for(;t.length<=a;)t.push(0);t[a]&=4294967040}for(n=0;n<=a;n+=1)S[n]=909522486^t[n],E[n]=1549556828^t[n];o=c(S,o),v=f,A=!0},this.update=function(e){var n,t,r,i=0,u=f>>>5;for(n=a(e,m,g),e=n.binLen,t=n.value,n=e>>>5,r=0;r<n;r+=u)i+f<=e&&(o=c(t.slice(r,r+u),o),i+=f);v+=i,m=t.slice(i>>>5),g=e%f,H=!0},this.getHash=function(n,t){var r,a,f,c;if(!0===A)throw Error("Cannot call getHash after setting HMAC key");if(f=d(t),!0===k){if(-1===f.shakeLen)throw Error("shakeLen must be specified in options");i=f.shakeLen}switch(n){case"HEX":r=function(e){return u(e,i,f)};break;case"B64":r=function(e){return s(e,i,f)};break;case"BYTES":r=function(e){return l(e,i)};break;case"ARRAYBUFFER":try{a=new ArrayBuffer(0)}catch(e){throw Error("ARRAYBUFFER not supported by this environment")}r=function(e){return p(e,i)};break;default:throw Error("format must be HEX, B64, BYTES, or ARRAYBUFFER")}for(c=w(m.slice(),g,v,y(o),i),a=1;a<b;a+=1)!0===k&&0!==i%32&&(c[c.length-1]&=4294967040<<24-i%32),c=w(c,i,0,P(e),i);return r(c)},this.getHMAC=function(n,t){var r,a,h,b;if(!1===A)throw Error("Cannot call getHMAC without first setting HMAC key");switch(h=d(t),n){case"HEX":r=function(e){return u(e,i,h)};break;case"B64":r=function(e){return s(e,i,h)};break;case"BYTES":r=function(e){return l(e,i)};break;case"ARRAYBUFFER":try{r=new ArrayBuffer(0)}catch(e){throw Error("ARRAYBUFFER not supported by this environment")}r=function(e){return p(e,i)};break;default:throw Error("outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER")}return a=w(m.slice(),g,v,y(o),i),b=c(E,P(e)),b=w(a,i,f,b,i),r(b)}}function o(e,n){this.a=e,this.b=n}function a(e,n,t){var r,o,a,i,f,c=e.length;if(n=n||[0],t=t||0,f=t>>>3,0!==c%2)throw Error("String of HEX type must be in byte increments");for(r=0;r<c;r+=2){if(o=parseInt(e.substr(r,2),16),isNaN(o))throw Error("String of HEX type contains invalid characters");for(i=(r>>>1)+f,a=i>>>2;n.length<=a;)n.push(0);n[a]|=o<<8*(3-i%4)}return{value:n,binLen:4*c+t}}function i(e,n,t){var r,o,a,i,f=[],f=n||[0];for(t=t||0,o=t>>>3,r=0;r<e.length;r+=1)n=e.charCodeAt(r),i=r+o,a=i>>>2,f.length<=a&&f.push(0),f[a]|=n<<8*(3-i%4);return{value:f,binLen:8*e.length+t}}function f(e,n,t){var r,o,a,i,f,c,u=[],s=0,u=n||[0];if(t=t||0,n=t>>>3,-1===e.search(/^[a-zA-Z0-9=+\/]+$/))throw Error("Invalid character in base-64 string");if(o=e.indexOf("="),e=e.replace(/\=/g,""),-1!==o&&o<e.length)throw Error("Invalid '=' found in base-64 string");for(o=0;o<e.length;o+=4){for(f=e.substr(o,4),a=i=0;a<f.length;a+=1)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(f[a]),i|=r<<18-6*a;for(a=0;a<f.length-1;a+=1){for(c=s+n,r=c>>>2;u.length<=r;)u.push(0);u[r]|=(i>>>16-8*a&255)<<8*(3-c%4),s+=1}}return{value:u,binLen:8*s+t}}function c(e,n,t){var r,o,a,i=[],i=n||[0];for(t=t||0,r=t>>>3,n=0;n<e.byteLength;n+=1)a=n+r,o=a>>>2,i.length<=o&&i.push(0),i[o]|=e[n]<<8*(3-a%4);return{value:i,binLen:8*e.byteLength+t}}function u(e,n,t){var r="";n/=8;var o,a;for(o=0;o<n;o+=1)a=e[o>>>2]>>>8*(3-o%4),r+="0123456789abcdef".charAt(a>>>4&15)+"0123456789abcdef".charAt(15&a);return t.outputUpper?r.toUpperCase():r}function s(e,n,t){var r,o,a,i="",f=n/8;for(r=0;r<f;r+=3)for(o=r+1<f?e[r+1>>>2]:0,a=r+2<f?e[r+2>>>2]:0,a=(e[r>>>2]>>>8*(3-r%4)&255)<<16|(o>>>8*(3-(r+1)%4)&255)<<8|a>>>8*(3-(r+2)%4)&255,o=0;4>o;o+=1)i+=8*r+6*o<=n?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>>6*(3-o)&63):t.b64Pad;return i}function l(e,n){var t,r,o="",a=n/8;for(t=0;t<a;t+=1)r=e[t>>>2]>>>8*(3-t%4)&255,o+=String.fromCharCode(r);return o}function p(e,n){var t,r=n/8,o=new ArrayBuffer(r);for(t=0;t<r;t+=1)o[t]=e[t>>>2]>>>8*(3-t%4)&255;return o}function d(e){var n={outputUpper:!1,b64Pad:"=",shakeLen:-1};if(e=e||{},n.outputUpper=e.outputUpper||!1,!0===e.hasOwnProperty("b64Pad")&&(n.b64Pad=e.b64Pad),!0===e.hasOwnProperty("shakeLen")){if(0!==e.shakeLen%8)throw Error("shakeLen must be a multiple of 8");n.shakeLen=e.shakeLen}if("boolean"!=typeof n.outputUpper)throw Error("Invalid outputUpper formatting option");if("string"!=typeof n.b64Pad)throw Error("Invalid b64Pad formatting option");return n}function h(e,n){var t;switch(n){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(e){case"HEX":t=a;break;case"TEXT":t=function(e,t,r){var o,a,i,f,c,u=[],s=[],l=0,u=t||[0];if(t=r||0,i=t>>>3,"UTF8"===n)for(o=0;o<e.length;o+=1)for(r=e.charCodeAt(o),s=[],128>r?s.push(r):2048>r?(s.push(192|r>>>6),s.push(128|63&r)):55296>r||57344<=r?s.push(224|r>>>12,128|r>>>6&63,128|63&r):(o+=1,r=65536+((1023&r)<<10|1023&e.charCodeAt(o)),s.push(240|r>>>18,128|r>>>12&63,128|r>>>6&63,128|63&r)),a=0;a<s.length;a+=1){for(c=l+i,f=c>>>2;u.length<=f;)u.push(0);u[f]|=s[a]<<8*(3-c%4),l+=1}else if("UTF16BE"===n||"UTF16LE"===n)for(o=0;o<e.length;o+=1){for(r=e.charCodeAt(o),"UTF16LE"===n&&(a=255&r,r=a<<8|r>>>8),c=l+i,f=c>>>2;u.length<=f;)u.push(0);u[f]|=r<<8*(2-c%4),l+=2}return{value:u,binLen:8*l+t}};break;case"B64":t=f;break;case"BYTES":t=i;break;case"ARRAYBUFFER":try{t=new ArrayBuffer(0)}catch(e){throw Error("ARRAYBUFFER not supported by this environment")}t=c;break;default:throw Error("format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER")}return t}function w(e,n){return e<<n|e>>>32-n}function y(e,n){return 32<n?(n-=32,new o(e.b<<n|e.a>>>32-n,e.a<<n|e.b>>>32-n)):0!==n?new o(e.a<<n|e.b>>>32-n,e.b<<n|e.a>>>32-n):e}function b(e,n){return e>>>n|e<<32-n}function v(e,n){var t=null,t=new o(e.a,e.b);return t=32>=n?new o(t.a>>>n|t.b<<32-n&4294967295,t.b>>>n|t.a<<32-n&4294967295):new o(t.b>>>n-32|t.a<<64-n&4294967295,t.a>>>n-32|t.b<<64-n&4294967295)}function m(e,n){var t=null;return t=32>=n?new o(e.a>>>n,e.b>>>n|e.a<<32-n&4294967295):new o(0,e.a>>>n-32)}function g(e,n,t){return e&n^~e&t}function A(e,n,t){return new o(e.a&n.a^~e.a&t.a,e.b&n.b^~e.b&t.b)}function S(e,n,t){return e&n^e&t^n&t}function E(e,n,t){return new o(e.a&n.a^e.a&t.a^n.a&t.a,e.b&n.b^e.b&t.b^n.b&t.b)}function H(e){return b(e,2)^b(e,13)^b(e,22)}function k(e){var n=v(e,28),t=v(e,34);return e=v(e,39),new o(n.a^t.a^e.a,n.b^t.b^e.b)}function O(e){return b(e,6)^b(e,11)^b(e,25)}function x(e){var n=v(e,14),t=v(e,18);return e=v(e,41),new o(n.a^t.a^e.a,n.b^t.b^e.b)}function j(e){return b(e,7)^b(e,18)^e>>>3}function C(e){var n=v(e,1),t=v(e,8);return e=m(e,7),new o(n.a^t.a^e.a,n.b^t.b^e.b)}function T(e){return b(e,17)^b(e,19)^e>>>10}function R(e){var n=v(e,19),t=v(e,61);return e=m(e,6),new o(n.a^t.a^e.a,n.b^t.b^e.b)}function U(e,n){var t=(65535&e)+(65535&n);return((e>>>16)+(n>>>16)+(t>>>16)&65535)<<16|65535&t}function N(e,n,t,r){var o=(65535&e)+(65535&n)+(65535&t)+(65535&r);return((e>>>16)+(n>>>16)+(t>>>16)+(r>>>16)+(o>>>16)&65535)<<16|65535&o}function F(e,n,t,r,o){var a=(65535&e)+(65535&n)+(65535&t)+(65535&r)+(65535&o);return((e>>>16)+(n>>>16)+(t>>>16)+(r>>>16)+(o>>>16)+(a>>>16)&65535)<<16|65535&a}function L(e,n){var t,r,a;return t=(65535&e.b)+(65535&n.b),r=(e.b>>>16)+(n.b>>>16)+(t>>>16),a=(65535&r)<<16|65535&t,t=(65535&e.a)+(65535&n.a)+(r>>>16),r=(e.a>>>16)+(n.a>>>16)+(t>>>16),new o((65535&r)<<16|65535&t,a)}function D(e,n,t,r){var a,i,f;return a=(65535&e.b)+(65535&n.b)+(65535&t.b)+(65535&r.b),i=(e.b>>>16)+(n.b>>>16)+(t.b>>>16)+(r.b>>>16)+(a>>>16),f=(65535&i)<<16|65535&a,a=(65535&e.a)+(65535&n.a)+(65535&t.a)+(65535&r.a)+(i>>>16),i=(e.a>>>16)+(n.a>>>16)+(t.a>>>16)+(r.a>>>16)+(a>>>16),new o((65535&i)<<16|65535&a,f)}function B(e,n,t,r,a){var i,f,c;return i=(65535&e.b)+(65535&n.b)+(65535&t.b)+(65535&r.b)+(65535&a.b),f=(e.b>>>16)+(n.b>>>16)+(t.b>>>16)+(r.b>>>16)+(a.b>>>16)+(i>>>16),c=(65535&f)<<16|65535&i,i=(65535&e.a)+(65535&n.a)+(65535&t.a)+(65535&r.a)+(65535&a.a)+(f>>>16),f=(e.a>>>16)+(n.a>>>16)+(t.a>>>16)+(r.a>>>16)+(a.a>>>16)+(i>>>16),new o((65535&f)<<16|65535&i,c)}function _(e){var n,t=0,r=0;for(n=0;n<arguments.length;n+=1)t^=arguments[n].b,r^=arguments[n].a;return new o(r,t)}function P(e){var n,t=[];if("SHA-1"===e)t=[1732584193,4023233417,2562383102,271733878,3285377520];else if(0===e.lastIndexOf("SHA-",0))switch(t=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],n=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],e){case"SHA-224":break;case"SHA-256":t=n;break;case"SHA-384":t=[new o(3418070365,t[0]),new o(1654270250,t[1]),new o(2438529370,t[2]),new o(355462360,t[3]),new o(1731405415,t[4]),new o(41048885895,t[5]),new o(3675008525,t[6]),new o(1203062813,t[7])];break;case"SHA-512":t=[new o(n[0],4089235720),new o(n[1],2227873595),new o(n[2],4271175723),new o(n[3],1595750129),new o(n[4],2917565137),new o(n[5],725511199),new o(n[6],4215389547),new o(n[7],327033209)];break;default:throw Error("Unknown SHA variant")}else{if(0!==e.lastIndexOf("SHA3-",0)&&0!==e.lastIndexOf("SHAKE",0))throw Error("No SHA variants supported");for(e=0;5>e;e+=1)t[e]=[new o(0,0),new o(0,0),new o(0,0),new o(0,0),new o(0,0)]}return t}function I(e,n){var t,r,o,a,i,f,c,u=[];for(t=n[0],r=n[1],o=n[2],a=n[3],i=n[4],c=0;80>c;c+=1)u[c]=16>c?e[c]:w(u[c-3]^u[c-8]^u[c-14]^u[c-16],1),f=20>c?F(w(t,5),r&o^~r&a,i,1518500249,u[c]):40>c?F(w(t,5),r^o^a,i,1859775393,u[c]):60>c?F(w(t,5),S(r,o,a),i,2400959708,u[c]):F(w(t,5),r^o^a,i,3395469782,u[c]),i=a,a=o,o=w(r,30),r=t,t=f;return n[0]=U(t,n[0]),n[1]=U(r,n[1]),n[2]=U(o,n[2]),n[3]=U(a,n[3]),n[4]=U(i,n[4]),n}function M(e,n,t,r){var o;for(o=(n+65>>>9<<4)+15;e.length<=o;)e.push(0);for(e[n>>>5]|=128<<24-n%32,n+=t,e[o]=4294967295&n,e[o-1]=n/4294967296|0,n=e.length,o=0;o<n;o+=16)r=I(e.slice(o,o+16),r);return r}function X(e,n,t){var r,a,i,f,c,u,s,l,p,d,h,w,y,b,v,m,_,P,I,M,X,Y,q,z=[];if("SHA-224"===t||"SHA-256"===t)d=64,w=1,Y=Number,y=U,b=N,v=F,m=j,_=T,P=H,I=O,X=S,M=g,q=$;else{if("SHA-384"!==t&&"SHA-512"!==t)throw Error("Unexpected error in SHA-2 implementation");d=80,w=2,Y=o,y=L,b=D,v=B,m=C,_=R,P=k,I=x,X=E,M=A,q=J}for(t=n[0],r=n[1],a=n[2],i=n[3],f=n[4],c=n[5],u=n[6],s=n[7],h=0;h<d;h+=1)16>h?(p=h*w,l=e.length<=p?0:e[p],p=e.length<=p+1?0:e[p+1],z[h]=new Y(l,p)):z[h]=b(_(z[h-2]),z[h-7],m(z[h-15]),z[h-16]),l=v(s,I(f),M(f,c,u),q[h],z[h]),p=y(P(t),X(t,r,a)),s=u,u=c,c=f,f=y(i,l),i=a,a=r,r=t,t=y(l,p);return n[0]=y(t,n[0]),n[1]=y(r,n[1]),n[2]=y(a,n[2]),n[3]=y(i,n[3]),n[4]=y(f,n[4]),n[5]=y(c,n[5]),n[6]=y(u,n[6]),n[7]=y(s,n[7]),n}function Y(e,n){var t,r,a,i,f=[],c=[];if(null!==e)for(r=0;r<e.length;r+=2)n[(r>>>1)%5][(r>>>1)/5|0]=_(n[(r>>>1)%5][(r>>>1)/5|0],new o((255&e[r+1])<<24|(65280&e[r+1])<<8|(16711680&e[r+1])>>>8|e[r+1]>>>24,(255&e[r])<<24|(65280&e[r])<<8|(16711680&e[r])>>>8|e[r]>>>24));for(t=0;24>t;t+=1){for(i=P("SHA3-"),r=0;5>r;r+=1)f[r]=_(n[r][0],n[r][1],n[r][2],n[r][3],n[r][4]);for(r=0;5>r;r+=1)c[r]=_(f[(r+4)%5],y(f[(r+1)%5],1));for(r=0;5>r;r+=1)for(a=0;5>a;a+=1)n[r][a]=_(n[r][a],c[r]);for(r=0;5>r;r+=1)for(a=0;5>a;a+=1)i[a][(2*r+3*a)%5]=y(n[r][a],q[r][a]);for(r=0;5>r;r+=1)for(a=0;5>a;a+=1)n[r][a]=_(i[r][a],new o(~i[(r+1)%5][a].a&i[(r+2)%5][a].a,~i[(r+1)%5][a].b&i[(r+2)%5][a].b));n[0][0]=_(n[0][0],z[t])}return n}var $,J,q,z;$=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],J=[new o($[0],3609767458),new o($[1],602891725),new o($[2],3964484399),new o($[3],2173295548),new o($[4],4081628472),new o($[5],3053834265),new o($[6],2937671579),new o($[7],3664609560),new o($[8],2734883394),new o($[9],1164996542),new o($[10],1323610764),new o($[11],3590304994),new o($[12],4068182383),new o($[13],991336113),new o($[14],633803317),new o($[15],3479774868),new o($[16],2666613458),new o($[17],944711139),new o($[18],2341262773),new o($[19],2007800933),new o($[20],1495990901),new o($[21],1856431235),new o($[22],3175218132),new o($[23],2198950837),new o($[24],3999719339),new o($[25],766784016),new o($[26],2566594879),new o($[27],3203337956),new o($[28],1034457026),new o($[29],2466948901),new o($[30],3758326383),new o($[31],168717936),new o($[32],1188179964),new o($[33],1546045734),new o($[34],1522805485),new o($[35],2643833823),new o($[36],2343527390),new o($[37],1014477480),new o($[38],1206759142),new o($[39],344077627),new o($[40],1290863460),new o($[41],3158454273),new o($[42],3505952657),new o($[43],106217008),new o($[44],3606008344),new o($[45],1432725776),new o($[46],1467031594),new o($[47],851169720),new o($[48],3100823752),new o($[49],1363258195),new o($[50],3750685593),new o($[51],3785050280),new o($[52],3318307427),new o($[53],3812723403),new o($[54],2003034995),new o($[55],3602036899),new o($[56],1575990012),new o($[57],1125592928),new o($[58],2716904306),new o($[59],442776044),new o($[60],593698344),new o($[61],3733110249),new o($[62],2999351573),new o($[63],3815920427),new o(3391569614,3928383900),new o(3515267271,566280711),new o(3940187606,3454069534),new o(4118630271,4000239992),new o(116418474,1914138554),new o(174292421,2731055270),new o(289380356,3203993006),new o(460393269,320620315),new o(685471733,587496836),new o(852142971,1086792851),new o(1017036298,365543100),new o(1126000580,2618297676),new o(1288033470,3409855158),new o(1501505948,4234509866),new o(1607167915,987167468),new o(1816402316,1246189591)],z=[new o(0,1),new o(0,32898),new o(2147483648,32906),new o(2147483648,2147516416),new o(0,32907),new o(0,2147483649),new o(2147483648,2147516545),new o(2147483648,32777),new o(0,138),new o(0,136),new o(0,2147516425),new o(0,2147483658),new o(0,2147516555),new o(2147483648,139),new o(2147483648,32905),new o(2147483648,32771),new o(2147483648,32770),new o(2147483648,128),new o(0,32778),new o(2147483648,2147483658),new o(2147483648,2147516545),new o(2147483648,32896),new o(0,2147483649),new o(2147483648,2147516424)],q=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]],"function"==typeof define&&define.amd?define(function(){return r}):"undefined"!=typeof n?("undefined"!=typeof e&&e.exports&&(e.exports=r),n=r):t.jsSHA=r}(g)}),H=window.G_CONFIG&&JSON.parse(S.decode(window.G_CONFIG)),k=H||{},O=k.cookie_mac_key,x=k.cookie_mac_path,j=k.authorization_cookie_domain,C=k.encode_gaea_id,T=k.uc_uri,R=k.uc_http_uri,U=k.sys_time,N=k.project_language,F=86400,L=604800,D=function(){return"withCredentials"in new XMLHttpRequest}(),B=void 0,_=B={cookie:t,parseDate:r,path:a},P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I=n(function(e,n){var t=Object.prototype.hasOwnProperty,r=function(){for(var e=[],n=0;n<256;++n)e.push("%"+((n<16?"0":"")+n.toString(16)).toUpperCase());return e}();n.arrayToObject=function(e,n){for(var t=n&&n.plainObjects?Object.create(null):{},r=0;r<e.length;++r)"undefined"!=typeof e[r]&&(t[r]=e[r]);return t},n.merge=function(e,r,o){if(!r)return e;if("object"!==("undefined"==typeof r?"undefined":P(r))){if(Array.isArray(e))e.push(r);else{if("object"!==("undefined"==typeof e?"undefined":P(e)))return[e,r];e[r]=!0}return e}if("object"!==("undefined"==typeof e?"undefined":P(e)))return[e].concat(r);var a=e;return Array.isArray(e)&&!Array.isArray(r)&&(a=n.arrayToObject(e,o)),Array.isArray(e)&&Array.isArray(r)?(r.forEach(function(r,a){t.call(e,a)?e[a]&&"object"===P(e[a])?e[a]=n.merge(e[a],r,o):e.push(r):e[a]=r}),e):Object.keys(r).reduce(function(e,t){var a=r[t];return Object.prototype.hasOwnProperty.call(e,t)?e[t]=n.merge(e[t],a,o):e[t]=a,e},a)},n.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(n){return e}},n.encode=function(e){if(0===e.length)return e;for(var n="string"==typeof e?e:String(e),t="",o=0;o<n.length;++o){var a=n.charCodeAt(o);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?t+=n.charAt(o):a<128?t+=r[a]:a<2048?t+=r[192|a>>6]+r[128|63&a]:a<55296||a>=57344?t+=r[224|a>>12]+r[128|a>>6&63]+r[128|63&a]:(o+=1,a=65536+((1023&a)<<10|1023&n.charCodeAt(o)),t+=r[240|a>>18]+r[128|a>>12&63]+r[128|a>>6&63]+r[128|63&a])}return t},n.compact=function(e,t){if("object"!==("undefined"==typeof e?"undefined":P(e))||null===e)return e;var r=t||[],o=r.indexOf(e);if(o!==-1)return r[o];if(r.push(e),Array.isArray(e)){for(var a=[],i=0;i<e.length;++i)e[i]&&"object"===P(e[i])?a.push(n.compact(e[i],r)):"undefined"!=typeof e[i]&&a.push(e[i]);return a}var f=Object.keys(e);return f.forEach(function(t){e[t]=n.compact(e[t],r)}),e},n.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},n.isBuffer=function(e){return null!==e&&"undefined"!=typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}}),M=String.prototype.replace,X=/%20/g,Y={"default":"RFC3986",formatters:{RFC1738:function(e){return M.call(e,X,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"},J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q=I,z=Y,G={brackets:function(e){return e+"[]"},indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},K=Date.prototype.toISOString,Z={delimiter:"&",encode:!0,encoder:q.encode,serializeDate:function(e){return K.call(e)},skipNulls:!1,strictNullHandling:!1},Q=function e(n,t,r,o,a,i,f,c,u,s,l){var p=n;if("function"==typeof f)p=f(t,p);else if(p instanceof Date)p=s(p);else if(null===p){if(o)return i?i(t):t;p=""}if("string"==typeof p||"number"==typeof p||"boolean"==typeof p||q.isBuffer(p))return i?[l(i(t))+"="+l(i(p))]:[l(t)+"="+l(String(p))];var d=[];if("undefined"==typeof p)return d;var h;if(Array.isArray(f))h=f;else{var w=Object.keys(p);h=c?w.sort(c):w}for(var y=0;y<h.length;++y){var b=h[y];a&&null===p[b]||(d=Array.isArray(p)?d.concat(e(p[b],r(t,b),r,o,a,i,f,c,u,s,l)):d.concat(e(p[b],t+(u?"."+b:"["+b+"]"),r,o,a,i,f,c,u,s,l)))}return d},V=function(e,n){var t=e,r=n||{},o="undefined"==typeof r.delimiter?Z.delimiter:r.delimiter,a="boolean"==typeof r.strictNullHandling?r.strictNullHandling:Z.strictNullHandling,i="boolean"==typeof r.skipNulls?r.skipNulls:Z.skipNulls,f="boolean"==typeof r.encode?r.encode:Z.encode,c=f?"function"==typeof r.encoder?r.encoder:Z.encoder:null,u="function"==typeof r.sort?r.sort:null,s="undefined"!=typeof r.allowDots&&r.allowDots,l="function"==typeof r.serializeDate?r.serializeDate:Z.serializeDate;if("undefined"==typeof r.format)r.format=z["default"];else if(!Object.prototype.hasOwnProperty.call(z.formatters,r.format))throw new TypeError("Unknown format option provided.");var p,d,h=z.formatters[r.format];if(null!==r.encoder&&void 0!==r.encoder&&"function"!=typeof r.encoder)throw new TypeError("Encoder has to be a function.");"function"==typeof r.filter?(d=r.filter,t=d("",t)):Array.isArray(r.filter)&&(d=r.filter,p=d);var w=[];if("object"!==("undefined"==typeof t?"undefined":J(t))||null===t)return"";var y;y=r.arrayFormat in G?r.arrayFormat:"indices"in r?r.indices?"indices":"repeat":"indices";var b=G[y];p||(p=Object.keys(t)),u&&p.sort(u);for(var v=0;v<p.length;++v){var m=p[v];i&&null===t[m]||(w=w.concat(Q(t[m],m,b,a,i,c,d,u,s,l,h)))}return w.join(o)},W=I,ee=Object.prototype.hasOwnProperty,ne={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:W.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},te=function(e,n){for(var t={},r=e.split(n.delimiter,n.parameterLimit===1/0?void 0:n.parameterLimit),o=0;o<r.length;++o){var a,i,f=r[o],c=f.indexOf("]=")===-1?f.indexOf("="):f.indexOf("]=")+1;c===-1?(a=n.decoder(f),i=n.strictNullHandling?null:""):(a=n.decoder(f.slice(0,c)),i=n.decoder(f.slice(c+1))),ee.call(t,a)?t[a]=[].concat(t[a]).concat(i):t[a]=i}return t},re=function e(n,t,r){if(!n.length)return t;var o,a=n.shift();if("[]"===a)o=[],o=o.concat(e(n,t,r));else{o=r.plainObjects?Object.create(null):{};var i="["===a[0]&&"]"===a[a.length-1]?a.slice(1,a.length-1):a,f=parseInt(i,10);!isNaN(f)&&a!==i&&String(f)===i&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(o=[],o[f]=e(n,t,r)):o[i]=e(n,t,r)}return o},oe=function(e,n,t){if(e){var r=t.allowDots?e.replace(/\.([^\.\[]+)/g,"[$1]"):e,o=/^([^\[\]]*)/,a=/(\[[^\[\]]*\])/g,i=o.exec(r),f=[];if(i[1]){if(!t.plainObjects&&ee.call(Object.prototype,i[1])&&!t.allowPrototypes)return;f.push(i[1])}for(var c=0;null!==(i=a.exec(r))&&c<t.depth;)c+=1,(t.plainObjects||!ee.call(Object.prototype,i[1].replace(/\[|\]/g,""))||t.allowPrototypes)&&f.push(i[1]);return i&&f.push("["+r.slice(i.index)+"]"),re(f,n,t)}},ae=function(e,n){var t=n||{};if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(t.delimiter="string"==typeof t.delimiter||W.isRegExp(t.delimiter)?t.delimiter:ne.delimiter,t.depth="number"==typeof t.depth?t.depth:ne.depth,t.arrayLimit="number"==typeof t.arrayLimit?t.arrayLimit:ne.arrayLimit,t.parseArrays=t.parseArrays!==!1,t.decoder="function"==typeof t.decoder?t.decoder:ne.decoder,t.allowDots="boolean"==typeof t.allowDots?t.allowDots:ne.allowDots,t.plainObjects="boolean"==typeof t.plainObjects?t.plainObjects:ne.plainObjects,t.allowPrototypes="boolean"==typeof t.allowPrototypes?t.allowPrototypes:ne.allowPrototypes,t.parameterLimit="number"==typeof t.parameterLimit?t.parameterLimit:ne.parameterLimit,t.strictNullHandling="boolean"==typeof t.strictNullHandling?t.strictNullHandling:ne.strictNullHandling,""===e||null===e||"undefined"==typeof e)return t.plainObjects?Object.create(null):{};for(var r="string"==typeof e?te(e,t):e,o=t.plainObjects?Object.create(null):{},a=Object.keys(r),i=0;i<a.length;++i){var f=a[i],c=oe(f,r[f],t);o=W.merge(o,c,t)}return W.compact(o)},ie=V,fe=ae,ce=Y,ue={formats:ce,parse:fe,stringify:ie},se=U,le="diff_"+O,pe=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};!function(e){function n(e,n){return!!~e.indexOf(n)}function t(e,n){var t={0:"Unknown Error",1:"No Transport",2:n+"Method Not Allowed",3:n+"Protocol Not Supported",4:"URI source and target Protocol must be the same",5:"No Data",6:"Bad Data:"+n,7:"Network Error",8:"Timeout"},r=t[e];return JSON.stringify({code:"CORS/"+r.toUpperCase(),message:r,detail:null})}var r=e.jQuery;if(r){var o=r,a=location.protocol,i=["http:","https:"];f(),o.ajaxTransport("+*",function(r,f,c){var u=_.path(r.url),s=C,l=r.type.toUpperCase(),p=f.data;if(void 0===f.bodyProxy&&(f.bodyProxy=!0,f.headers=he({Authorization:r.crossDomain?h(l,u.path,u.host):void 0,
"X-Gaea-Authorization":s&&'GAEA id="'+s+'"',Accept:"application/json","Content-Type":"application/json","Accept-Language":N},f.headers||{})),r.crossDomain&&!D&&e.XDomainRequest){var d=function(){var c=new e.XDomainRequest,s=u.protocol,d=function(e,n){return{send:function(r,o){o(-1,t(e,n))},abort:o.noop}};if(!c)return{v:d(1)};if(!~o.inArray(s,i))return{v:d(4)};if(a!=s)return{v:d(3,s)};if(f.bodyProxy){var h=n(r.url,"?")?"&":"?";f.url=r.url+h+"$proxy=body",p={$method:l,$headers:{Host:u.host}},o.each(f.headers||{},function(e,n){n&&(p.$headers[e]=n)}),"GET"!=l&&"header"!=l&&("string"==typeof f.data?p.$body=JSON.parse(f.data):p.$body=f.data),p=JSON.stringify(p)}return r.timeout&&(c.timeout=r.timeout),c.onprogress=o.noop,{v:{send:function(e,r){c.onload=function(){var e={},a=null,i=f.headers.Accept,u=c.responseText,s=[],l=200,p="OK";if(n(i,"json"))try{var h=JSON.parse(u);if(f.bodyProxy){e.json="";try{e.json=JSON.parse(h.$body)}catch(e){}o.each(h.$headers,function(e,n){s[s.length]=e+": "+n}),l=h.$status,p=h.$status_text}else e.json=h}catch(e){a=e.message}else n(i,"text")?e.text=u:n(i,"html")&&(e.html=u);return a?d(500,t(6,a)):(s=o.extend(s,["Content-Type: "+c.contentType,"Content-Length: "+u.length]),void r(l,p,e,s.join("\r\n")))},c.onerror=function(){r(500,t(7))},c.ontimeout=function(){r(500,t(8))},c.open(f.bodyProxy?"POST":l,f.url),setTimeout(function(){c.send(p)},500)},abort:function(){c.abort()}}}}();if("object"===("undefined"==typeof d?"undefined":de(d)))return d.v}else o.each(f.headers,function(e,n){n&&c.setRequestHeader(e,n)})})}}(window),e.getMacToken=h,e.getMacToB64=m,e.getMacTokenByHref=b,e.getMacTokenBySlash=y,e.base64=S}(this.Nova=this.Nova||{});
